{"version":3,"sources":["webpack:///./src/components/Container.js?c44f"],"names":["dndActions","fileActions","Container","store","user","dustbins","dnd","boxes","droppedBoxNames","ownedFiles","file","fetchedFiles","sharedFiles","currentFile","currentFileKeys","isSettingCurrent","currentProject","associativeFiles","showHideSchemaMaker","validColName","currentProjectSchema","boxName","props","indexOf","id","parseInt","match","params","shared","location","search","dispatch","getCurrentFile","column","findDOMNode","value","length","updateValidColName","index","item","console","log","itemDrop","e","preventDefault","addColToSchema","areDustbins","name","overflow","clear","map","keys","Object","data","el","ind","isDropped","handleAddSchemaClick","bind","handleColNameChange","handleAddColumn","hideSchemaMaker","lastDroppedItem","handleDrop"],"mappings":"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","file":"0.8a8d8a6cf29e41797eec.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport update from 'react/lib/update';\nimport { DragDropContext } from 'react-dnd';\nimport HTML5Backend, { NativeTypes } from 'react-dnd-html5-backend';\nimport { connect } from 'react-redux'\nimport ReactDOM from 'react-dom'\nimport {\n  Grid,\n  Row,\n  Col,\n  Button,\n  Modal,\n  FormGroup,\n  Form,\n  ControlLabel,\n  FormControl,\n\n} from 'react-bootstrap'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Redirect,\n  withRouter\n} from 'react-router-dom'\n\nimport Dustbin from './Dustbin';\nimport Box from './Box';\nimport FileDnd from './FileDnd'\nimport store from '../store'\nimport * as dndActions from '../actions/dndActions'\nimport * as fileActions from '../actions/fileActions'\n\n\n//NOTE: comb through what you are bringing into store and get rid of all of the superfluous crap\n@connect((store)=>{\n  return {\n    user: store.user.user,\n    dustbins: store.dnd.dustbins,\n    boxes: store.dnd.boxes,\n    droppedBoxNames: store.dnd.droppedBoxNames,\n    ownedFiles: store.file.fetchedFiles,\n    sharedFiles: store.file.sharedFiles,\n    currentFile: store.file.currentFile,\n    currentFileKeys: store.file.currentFileKeys,\n    isSettingCurrent: store.file.isSettingCurrent,\n    currentProject: store.file.currentProject,\n    associativeFiles: store.file.associativeFiles,\n    showHideSchemaMaker: store.file.showHideSchemaMaker,\n    validColName: store.file.validColName,\n    currentProjectSchema: store.file.currentProjectSchema,\n  }\n})\n\nclass Container extends Component {\n  isDropped(boxName) {\n    return this.props.droppedBoxNames.indexOf(boxName) > -1;\n  }\n\n  componentWillMount(){\n    let id = parseInt(this.props.match.params.id)\n    let shared = this.props.location.search\n    this.props.dispatch(fileActions.getCurrentFile(id,shared))\n  }\n\n  handleAddSchemaClick(){\n    this.props.dispatch(fileActions.showHideSchemaMaker())\n  }\n\n  hideSchemaMaker(){\n    this.props.dispatch(fileActions.showHideSchemaMaker())\n  }\n\n  handleColNameChange(){\n    let column = ReactDOM.findDOMNode(this.column).value\n    if(this.props.validColName){\n\n    }\n    else if(column.length){\n      this.props.dispatch(fileActions.updateValidColName())\n    }\n  }\n\n  handleDrop(index, item) {\n    console.log('item:', item);\n    console.log('index', index);\n    this.props.dispatch(fileActions.itemDrop(index,item))\n  }\n\n  handleSave(){\n    //add in handling for the save of the project\n    //here you could check if the path of the route says '/myproject ' if so you would save a new file,  if not you would save the existing file\n  }\n\n  handleAddColumn(e){\n    e.preventDefault()\n    let column = ReactDOM.findDOMNode(this.column).value\n    this.props.dispatch(fileActions.addColToSchema(column))\n    ReactDOM.findDOMNode(this.column).value = ''\n    this.props.dispatch(fileActions.updateValidColName())\n  }\n\n  render()\n  {\n    const {\n      boxes,\n      dustbins,\n      currentFileKeys,\n      areDustbins,\n      currentProject,\n      associativeFiles,\n      showHideSchemaMaker,\n      currentProjectSchema,\n    } = this.props;\n\n    //NOTE: keep this code - just needs to be transformed soi that it knows not to display this when we are doing newProject\n    // if(this.props.isSettingCurrent){\n    //   return(\n    //     <h1>Loading...</h1>\n    //   )\n    // }\n\n\n    return (\n      <Grid bsClass='container-fluid'>\n\n        <Row>\n          <Col className='text-center' xs={4} xsPush={4}>\n            <h2>{currentProject.name}</h2>\n          </Col>\n        </Row>\n\n\n        <Row>\n          <Col className='text-center' xs={4} xsPush={4}>\n            <FileDnd></FileDnd>\n          </Col>\n        </Row>\n\n        {/* <Row>\n          <Col className='text-center' xs={12}>\n            <h1>Drag</h1>\n            <p>{this.props.user.id}</p>\n          </Col>\n        </Row> */}\n\n        <Row>\n          <Col className=\"text-center\" xs={12}>\n            <div style={{ overflow: 'hidden', clear: 'both' }}>\n              {\n               associativeFiles.map((e, index) =>{\n                 let keys = Object.keys(e.data[0])\n                 return keys.map((el,ind)=>\n                 <Box\n                   fileId={e.id}\n                   name={el}\n                   isDropped={this.isDropped(name)}\n                   key={ind}\n                   >{e.name}</Box>)\n                })\n              }\n            </div>\n            <Row>\n              <Col xs={6}>\n                <div>\n                  <Button\n                    bsStyle=\"primary\"\n                    bsSize='large'\n                    onClick={this.handleAddSchemaClick.bind(this)}\n                  >\n                    Create Schema\n                  </Button>\n                  <Modal\n                    show={showHideSchemaMaker}\n                    aria-labelledby=\"contained-modal-title\"\n                  >\n                    <Modal.Header closeButton>\n                      <Modal.Title  id=\"contained-modal-title\">\n                        CreateSchema\n                      </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                      <Form>\n                        <FormGroup controlId='formHorizontalName'>\n                          <ControlLabel>\n                            Set New Column Header\n                          </ControlLabel>\n                          <FormControl\n                            ref={column=>{this.column = column}}\n                            type='text'\n                            placeholder='My_Project'\n                            onChange={this.handleColNameChange.bind(this)}\n                            >\n                          </FormControl>\n                        </FormGroup>\n                        <Button\n                          bsStyle='primary'\n                          type=\"submit\"\n                          disabled={false}\n                          onClick={this.handleAddColumn.bind(this)}\n                          >\n                          Get Started\n                        </Button>\n                      </Form>\n                    </Modal.Body>\n                    <Modal.Footer>\n                      <Button\n                        onClick={this.hideSchemaMaker.bind(this)}\n                      >\n                        Close\n                    </Button>\n                    </Modal.Footer>\n                  </Modal>\n                </div>\n              </Col>\n            </Row>\n\n            <h1>Drop</h1>\n            <div style={{ overflow: 'hidden', clear: 'both' }}>\n              {\n                currentProjectSchema.map((e, index) =>\n                <Dustbin\n                  accepts={e}\n                  lastDroppedItem={e.lastDroppedItem}\n                  onDrop={item => this.handleDrop(index, item)}\n                  key={index}\n                />)\n              }\n            </div>\n          </Col>\n        </Row>\n\n        {/* <Row>\n          <Col xs={4} xsPush={8}>\n            <Button onClick={this.handleSave}>Save</Button>\n          </Col>\n        </Row> */}\n      </Grid>\n    );\n  }\n}\n\nexport default DragDropContext(HTML5Backend)(Container)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Container.js"],"sourceRoot":""}