{"version":3,"sources":["webpack:///./src/actions/fileActions.js?d0b0","webpack:///./src/components/Container.js?c44f","webpack:///./src/reducers/fileReducer.js?81da"],"names":["createFile","getOwnedFiles","getSharedFiles","getCurrentFile","changeValidName","nameCurrentProject","showHideSchemaMaker","addColToSchema","updateValidColName","f","dispatch","type","post","then","response","payload","data","catch","err","id","get","shared","name","col","dndActions","fileActions","Container","store","user","dustbins","dnd","boxes","droppedBoxNames","ownedFiles","file","fetchedFiles","sharedFiles","currentFile","currentFileKeys","isSettingCurrent","currentProject","associativeFiles","validColName","areDustbins","boxName","props","indexOf","parseInt","match","params","location","search","column","ReactDOM","findDOMNode","value","length","fileAction","index","item","itemDrop","overflow","clear","map","e","keys","Object","el","ind","isDropped","handleAddSchemaClick","bind","handleColNameChange","valvalidColName","handleAddColumn","reducer","initialState","isProject","currentProjectSchema","validName","fetching","fetched","error","creatingFile","createdFile","redirect","fetchingOwnedFiles","fetchedOwnedFiles","filesExist","fetchingSharedFiles","fetchedSharedFiles","sharesExist","state","action","newFile","copyFetchedFileArray","copyAssociativeArray","push","files","bool","proj","isShared","i","copyCurrentProjectSchema","colName"],"mappings":"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","file":"0.d7dc98fc466d39b149dc.hot-update.js","sourcesContent":["import axios from 'axios'\n\nexport function createFile(f){\n  return function(dispatch){\n    dispatch({type:\"CREATE_FILE\"})\n    axios.post(\"files\", f)\n    .then((response)=>{\n      dispatch({type:\"CREATE_FILE_FULFILLED\", payload: response.data})\n    })\n    .catch((err)=>{\n      dispatch({type:\"CREATE_FILE_REJECTED\", payload:err})\n    })\n  }\n}\n\nexport function getOwnedFiles(id){\n  return function(dispatch){\n    dispatch({type:\"GET_OWNED_FILES\"})\n    axios.get(`/files/${id}`)\n    .then((response)=>{\n      dispatch({type:\"GET_OWNED_FILES_FULFILLED\", payload: response.data})\n    })\n    .catch((err)=>{\n      dispatch({type:\"GET_OWNED_FILES_REJECTED\", payload:err})\n    })\n  }\n}\n//insert a shareFile function\n\nexport function getSharedFiles(id){\n  return function(dispatch){\n    dispatch({type:\"GET_SHARED_FILES\"})\n    axios.get(`http://localhost:8080/share/${id}`)\n    .then((response)=>{\n      dispatch({type:\"GET_SHARED_FILES_FULFILLED\", payload: response.data})\n    })\n    .catch((err)=>{\n      dispatch({type:\"GET_SHARED_FILES_REJECTED\", payload:err})\n    })\n  }\n}\n\nexport function getCurrentFile(id, shared){\n  return function(dispatch){\n    dispatch({type:\"GETTING_CURRENT_FILES\"})\n    dispatch({\n      type: \"GOT_CURRENT_FILE\",\n      payload: {\n        id: id,\n        shared: shared\n      }\n    })\n  }\n}\n\nexport function changeValidName(){\n  return {type: \"CHANGE_VALID_NAME\"}\n}\n\nexport function nameCurrentProject(name){\n  return {type: \"NAME_CURRENT_PROJECT\", payload: name}\n}\n\nexport function showHideSchemaMaker(){\n  return {type: \"SHOW_HIDE_SCHEMA_MAKER\"}\n}\n\nexport function addColToSchema(col){\n  return {type: \"ADD_COL_TO_SCHEMA\", payload: col}\n}\n\nexport function updateValidColName(){\n  return {type: \"UPDATE_VALID_COL_NAME\"}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/fileActions.js","import React, { Component } from 'react';\nimport update from 'react/lib/update';\nimport { DragDropContext } from 'react-dnd';\nimport HTML5Backend, { NativeTypes } from 'react-dnd-html5-backend';\nimport { connect } from 'react-redux'\nimport {\n  Grid,\n  Row,\n  Col,\n  Button,\n  Modal,\n  FormGroup,\n  Form,\n  ControlLabel,\n  FormControl,\n\n} from 'react-bootstrap'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Redirect,\n  withRouter\n} from 'react-router-dom'\n\nimport Dustbin from './Dustbin';\nimport Box from './Box';\nimport FileDnd from './FileDnd'\nimport store from '../store'\nimport * as dndActions from '../actions/dndActions'\nimport * as fileActions from '../actions/fileActions'\n\n\n//NOTE: comb through what you are bringing into store and get rid of all of the superfluous crap\n@connect((store)=>{\n  return {\n    user: store.user.user,\n    dustbins: store.dnd.dustbins,\n    boxes: store.dnd.boxes,\n    droppedBoxNames: store.dnd.droppedBoxNames,\n    ownedFiles: store.file.fetchedFiles,\n    sharedFiles: store.file.sharedFiles,\n    currentFile: store.file.currentFile,\n    currentFileKeys: store.file.currentFileKeys,\n    isSettingCurrent: store.file.isSettingCurrent,\n    currentProject: store.file.currentProject,\n    associativeFiles: store.file.associativeFiles,\n    showHideSchemaMaker: store.file.showHideSchemaMaker,\n    validColName: store.file.validColName,\n    areDustbins: false,\n  }\n})\n\nclass Container extends Component {\n  isDropped(boxName) {\n    return this.props.droppedBoxNames.indexOf(boxName) > -1;\n  }\n\n  componentWillMount(){\n    let id = parseInt(this.props.match.params.id)\n    let shared = this.props.location.search\n    this.props.dispatch(fileActions.getCurrentFile(id,shared))\n  }\n\n  handleAddSchemaClick(){\n    this.props.dispatch(fileActions.showHideSchemaMaker())\n  }\n\n  handleColNameChange(){\n    let column = ReactDOM.findDOMNode(this.column).value\n    if(column.length){\n      this.props.dispatch(fileAction.updateValidColName())\n    }\n  }\n\n  handleDrop(index, item) {\n    this.props.dispatch(dndActions.itemDrop(index,item))\n  }\n\n  handleSave(){\n    //add in handling for the save of the project\n    //here you could check if the path of the route says '/myproject ' if so you would save a new file,  if not you would save the existing file\n  }\n\n  handleAddColumn(){\n    let column = ReactDOM.findDOMNode(this.column).value\n    this.props.dispatch(fileActions.addColToSchema(column))\n    \n    this.props.dispatch(fileAction.updateValidColName())\n  }\n\n  render()\n  {\n    const {\n      boxes,\n      dustbins,\n      currentFileKeys,\n      areDustbins,\n      currentProject,\n      associativeFiles,\n      showHideSchemaMaker,\n    } = this.props;\n\n    //NOTE: keep this code - just needs to be transformed soi that it knows not to display this when we are doing newProject\n    // if(this.props.isSettingCurrent){\n    //   return(\n    //     <h1>Loading...</h1>\n    //   )\n    // }\n\n\n    return (\n      <Grid bsClass='container-fluid'>\n\n        <Row>\n          <Col className='text-center' xs={4} xsPush={4}>\n            <h2>{currentProject.name}</h2>\n          </Col>\n        </Row>\n\n\n        <Row>\n          <Col className='text-center' xs={4} xsPush={4}>\n            <FileDnd></FileDnd>\n          </Col>\n        </Row>\n\n        {/* <Row>\n          <Col className='text-center' xs={12}>\n            <h1>Drag</h1>\n            <p>{this.props.user.id}</p>\n          </Col>\n        </Row> */}\n\n        <Row>\n          <Col className=\"text-center\" xs={12}>\n            <div style={{ overflow: 'hidden', clear: 'both' }}>\n              {\n               associativeFiles.map((e, index) =>{\n                 let keys = Object.keys(e.data[0])\n                 return keys.map((el,ind)=>\n                 <Box\n                   fileId={e.id}\n                   name={el}\n                   isDropped={this.isDropped(name)}\n                   key={ind}\n                   >{e.name}</Box>)\n                })\n              }\n            </div>\n            <Row>\n              <Col xs={6}>\n                <div>\n                  <Button\n                    bsStyle=\"primary\"\n                    bsSize='large'\n                    onClick={this.handleAddSchemaClick.bind(this)}\n                  >\n                    Create Schema\n                  </Button>\n                  <Modal\n                    show={true}\n                    aria-labelledby=\"contained-modal-title\"\n                  >\n                    <Modal.Header closeButton>\n                      <Modal.Title  id=\"contained-modal-title\">\n                        CreateSchema\n                      </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                      <Form>\n                        <FormGroup controlId='formHorizontalName'>\n                          <ControlLabel>\n                            Set New Column Header\n                          </ControlLabel>\n                          <FormControl\n                            ref={column=>{this.column = column}}\n                            type='text'\n                            placeholder='My_Project'\n                            onChange={this.handleColNameChange.bind(this)}\n                            >\n                          </FormControl>\n                        </FormGroup>\n                        <Button\n                          bsStyle='primary'\n                          type=\"submit\"\n                          disabled={!this.props.valvalidColName}\n                          onClick={this.handleAddColumn.bind(this)}\n                          >\n                          Get Started\n                        </Button>\n                      </Form>\n                    </Modal.Body>\n                    <Modal.Footer>\n                      <Button>Close</Button>\n                    </Modal.Footer>\n                  </Modal>\n                </div>\n              </Col>\n            </Row>\n\n            {/* <h1>Drop</h1> */}\n            {/* <div style={{ overflow: 'hidden', clear: 'both' }}>\n              {\n                areDustbins?\n                dustbins.map((e, index) =>\n                <Dustbin\n                  accepts={e.accepts}\n                  lastDroppedItem={e.lastDroppedItem}\n                  onDrop={item => this.handleDrop(index, item)}\n                  key={index}\n                />) :\n                <Row>\n                  <Col xs={3}>\n                    <Button onClick={this.genBin}>Generate Schema</Button>\n                  </Col>\n                </Row>\n              }\n            </div> */}\n          </Col>\n        </Row>\n\n        {/* <Row>\n          <Col xs={4} xsPush={8}>\n            <Button onClick={this.handleSave}>Save</Button>\n          </Col>\n        </Row> */}\n      </Grid>\n    );\n  }\n}\n\nexport default DragDropContext(HTML5Backend)(Container)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Container.js","const initialState = {\n  currentFile:{\n    id:null,\n    name:null,\n    data: null,\n    map: null,\n    isProject: null,\n  },\n  currentProject:{\n    name: null,\n    data: null,\n    map: null,\n    isProject: true,\n  },\n  validColName: false,\n  currentProjectSchema: [],\n  showHideSchemaMaker:false,\n  associativeFiles:[],\n  validName: false,\n  isSettingCurrent:false,\n  currentFileKeys:[],\n  fetching:false,\n  fetched:false,\n  error:null,\n  creatingFile:false,\n  createdFile:true,\n  redirect:false,\n  fetchingOwnedFiles:false,\n  fetchedOwnedFiles:false,\n  fetchedFiles:[],\n  filesExist:false,\n  sharedFiles:[],\n  fetchingSharedFiles: false,\n  fetchedSharedFiles: false,\n  sharesExist:false,\n}\n\nexport default function reducer(state=initialState, action){\n  switch(action.type){\n    case \"CREATE_FILE\":{\n      return {...state, creatingFile: true}\n    }\n    case \"CREATE_FILE_REJECTED\":{\n      return {...state, creatingFile:false, error: action.payload}\n    }\n    case \"CREATE_FILE_FULFILLED\":{\n      let newFile = action.payload;\n      let copyFetchedFileArray = [...state.fetchedFiles]\n\n      let copyAssociativeArray = [...state.associativeFiles]\n      copyAssociativeArray.push(newFile)\n\n      copyFetchedFileArray.push(newFile);\n      return {\n        ...state,\n        fetchedFiles: copyFetchedFileArray, associativeFiles: copyAssociativeArray,\n        creatingFile:false,\n        createdFile:true\n      }\n    }\n    case \"GET_OWNED_FILES\":{\n      return {...state, fetchingOwnedFiles:true}\n    }\n    case \"GET_OWNED_FILES_FULFILLED\":{\n      let files = action.payload\n      return{\n        ...state,\n        fetchedFiles:files,\n        fetchingOwnedFiles:false,\n        fetchedOwnedFiles:true,\n        filesExist:true\n      }\n    }\n    case \"GET_OWNED_FILES_REJECTED\":{\n      return {\n        ...state,\n        fetchingOwnedFiles:false,\n        error:action.payload\n      }\n    }\n    case \"GET_SHARED_FILES\":{\n      return{...state, fetchingSharedFiles:true}\n    }\n    case \"GET_SHARED_FILES_FULFILLED\":{\n      let files = action.payload;\n      return{...state, sharedFiles: files, fetchingSharedFiles:false, fetchedSharedFiles:true, sharesExist:true}\n    }\n    case \"GET_SHARED_FILES_REJECTED\":{\n      return{...state, fetchingSharedFiles:false, error: action.payload}\n    }\n    case \"GETTING_CURRENT_FILES\":{\n      return {...state, isSettingCurrent:true}\n    }\n    case \"CHANGE_VALID_NAME\":{\n      let bool = !state.validName\n      return {...state, validName: bool}\n    }\n    case \"NAME_CURRENT_PROJECT\":{\n      let proj = {...state.currentProject}\n      proj.name = action.payload\n      return {...state, currentProject: proj}\n    }\n    case \"GOT_CURRENT_FILE\":{\n      let id = action.payload.id;\n      let isShared = action.payload.shared;\n      let currentFile = {...state.currentFile}\n      let currentFileKeys = [...state.currentFileKeys]\n      if(isShared=== \"?true\"){\n        let data = [...state.sharedFiles]\n        for(let i = 0; i < data.length; i++){\n          if(data[i].id === id){\n            currentFile = data[i];\n            currentFileKeys = Object.keys(currentFile);\n            return {...state, currentFile: currentFile, currentFileKeys: currentFileKeys, isSettingCurrent:false};\n          }\n        }\n      }else{\n        let data = [...state.fetchedFiles]\n        for(let i = 0; i < data.length; i++){\n          if(data[i].id === id){\n            currentFile = data[i];\n            currentFileKeys = Object.keys(currentFile);\n            return {...state, currentFile: currentFile, currentFileKeys: currentFileKeys, isSettingCurrent:false};\n          }\n        }\n      }\n    }\n    case \"SHOW_HIDE_SCHEMA_MAKER\":{\n      let bool = {...state.showHideSchemaMaker}\n      bool = !bool\n      return {...state, showHideSchemaMaker:bool}\n    }\n    case \"ADD_COL_TO_SCHEMA\":{\n      let copyCurrentProjectSchema = [...state.currentProjectSchema]\n      copyCurrentProjectSchema.push({colName: action.payload})\n\n      return {\n        ...state,\n        currentProjectSchema: copyCurrentProjectSchema\n      }\n    }\n    case \"UPDATE_VALID_COL_NAME\":{\n      let bool = {...state.validColName}\n      bool = !bool\n      return {...state, validColName: bool}\n    }\n  }\n  return state\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/fileReducer.js"],"sourceRoot":""}